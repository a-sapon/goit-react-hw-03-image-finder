{"version":3,"sources":["components/image_gallery_item/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/App.module.css","components/image_gallery/ImageGallery.module.css","components/button/Button.module.css","components/error/Error.module.css","components/searchbar/Searchbar.module.css","components/searchbar/Searchbar.js","components/image_gallery_item/ImageGalleryItem.js","components/button/Button.js","components/image_gallery/ImageGallery.js","components/modal/Modal.js","components/spinner/Spinner.js","components/error/Error.js","components/App.js","index.js"],"names":["module","exports","Searchbar","onHandleSubmit","onHandleChange","searchValue","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","e","name","value","ImageGalleryItem","onHandleOpenModal","webformatURL","largeImageURL","onClick","src","data-picture","alt","ImageGalleryItemImage","Button","onHandleLoadMore","ImageGallery","photos","map","item","key","id","length","Modal","window","addEventListener","this","props","onHandleKeyPress","removeEventListener","handleOverlayClick","Overlay","Component","Spinner","color","height","width","timeout","Error","errorContainer","axios","require","API_KEY","App","state","search","page","spinner","error","getPhotos","a","get","response","setState","data","hits","console","log","handleChange","target","handleSubmit","preventDefault","prev","setTimeout","loadMore","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","dataset","picture","closeModal","currentTarget","handleKeyPress","code","currentLargeImg","currentObj","find","IdxOfCurrentObj","indexOf","nextObj","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ade6e5a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Btpy\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2dXJ2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2THvL\",\"Modal\":\"Modal_Modal__1xsBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__34i2g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__18s6e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__dsh85\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorContainer\":\"Error_errorContainer__3aCHN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__21rVf\",\"SearchForm\":\"Searchbar_SearchForm__zMlKj\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2QKWj\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__FA7HL\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1LcAP\"};","import React from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onHandleSubmit, onHandleChange, searchValue }) => (\r\n  <header className={styles.Searchbar}>\r\n    <form className={styles.SearchForm} onSubmit={onHandleSubmit}>\r\n      <button type='submit' className={styles.SearchFormButton}>\r\n        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className={styles.SearchFormInput}\r\n        type='text'\r\n        autoComplete='off'\r\n        autoFocus\r\n        placeholder='Search images and photos'\r\n        onChange={e => onHandleChange(e)}\r\n        name='search'\r\n        value={searchValue}\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  onHandleOpenModal,\r\n  webformatURL,\r\n  largeImageURL\r\n}) => (\r\n  <li onClick={onHandleOpenModal} className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      data-picture={largeImageURL}\r\n      alt=''\r\n      className={styles.ImageGalleryItemImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onHandleLoadMore }) => (\r\n  <button onClick={onHandleLoadMore} type='button' className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../image_gallery_item/ImageGalleryItem';\r\nimport Button from '../button/Button';\r\n\r\nconst ImageGallery = ({ photos, onHandleLoadMore, onHandleOpenModal }) => (\r\n  <>\r\n    <ul className={styles.ImageGallery}>\r\n      {photos.map(item => (\r\n        <ImageGalleryItem\r\n          key={item.id}\r\n          webformatURL={item.webformatURL}\r\n          largeImageURL={item.largeImageURL}\r\n          onHandleOpenModal={onHandleOpenModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n    {photos.length !== 0 && <Button onHandleLoadMore={onHandleLoadMore} />}\r\n  </>\r\n);\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.props.onHandleKeyPress)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.props.onHandleKeyPress)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={e => this.handleOverlayClick(e)} className={styles.Overlay}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeImageURL} alt='' />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Spinner = () => (\r\n  <>\r\n    <Loader\r\n      type='Plane'\r\n      color='#3f51b5'\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  </>\r\n);\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport styles from './Error.module.css';\r\n\r\nconst Error = () => (\r\n  <div className={styles.errorContainer}>\r\n    <p>\r\n      Sorry🙁 We don't have anything matching your request. Please check your\r\n      spelling.\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\nimport styles from './App.module.css';\r\nimport Searchbar from './searchbar/Searchbar';\r\nimport ImageGallery from './image_gallery/ImageGallery';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Modal from './modal/Modal';\r\nimport Spinner from './spinner/Spinner';\r\nimport Error from './error/Error';\r\n\r\nconst axios = require('axios');\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '15153122-0963d39018d686d61465e9702';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    search: '',\r\n    page: 1,\r\n    photos: [],\r\n    largeImageURL: '',\r\n    spinner: true,\r\n    error: false\r\n  };\r\n\r\n  getPhotos = async () => {\r\n    try {\r\n      const { search, page } = this.state;\r\n      const response = await axios.get(\r\n        `${BASE_URL}?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n      );\r\n      this.setState({\r\n        spinner: false\r\n      });\r\n      return response.data.hits;\r\n    } catch (error) {\r\n      console.log()(error);\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n      page: 1\r\n    });\r\n  };\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const response = await this.getPhotos();\r\n    if (response.length !== 0) {\r\n      this.setState(prev => {\r\n        return {\r\n          photos: [...response],\r\n          page: prev.page + 1\r\n        };\r\n      });\r\n    } else {\r\n      this.setState(() => {\r\n        return {\r\n          error: true\r\n        };\r\n      });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          error: false\r\n        })\r\n      }, 3000)\r\n    }\r\n  };\r\n\r\n  loadMore = async () => {\r\n    const response = await this.getPhotos();\r\n    this.setState(prev => {\r\n      return {\r\n        photos: [...prev.photos, ...response],\r\n        page: prev.page + 1\r\n      };\r\n    });\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth'\r\n    });\r\n  };\r\n\r\n  // componentDidMount() {\r\n  //   window.addEventListener('keydown', this.handleKeyPress)\r\n  // }\r\n\r\n  // componentWillUnmount() {\r\n  //   window.removeEventListener('keydown', this.handleKeyPress)\r\n  // }\r\n\r\n  openModal = e => {\r\n    this.setState({\r\n      largeImageURL: e.target.dataset.picture\r\n    });\r\n    // window.onkeydown = this.handleKeyPress;\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({\r\n      largeImageURL: ''\r\n    });\r\n\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.closeModal();\r\n    }\r\n  };\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code === 'Escape') {\r\n      this.closeModal();\r\n    }\r\n    if (e.code === 'ArrowRight') {\r\n      const currentLargeImg = this.state.largeImageURL;\r\n      const currentObj = this.state.photos.find(\r\n        item => item.largeImageURL === currentLargeImg\r\n      );\r\n      const IdxOfCurrentObj = this.state.photos.indexOf(currentObj);\r\n      if (IdxOfCurrentObj < this.state.photos.length - 1) {\r\n        const nextObj = this.state.photos[IdxOfCurrentObj + 1];\r\n        this.setState({\r\n          largeImageURL: nextObj.largeImageURL\r\n        });\r\n      } else {\r\n        this.closeModal();\r\n      }\r\n    }\r\n    if (e.code === 'ArrowLeft') {\r\n      const currentLargeImg = this.state.largeImageURL;\r\n      const currentObj = this.state.photos.find(\r\n        item => item.largeImageURL === currentLargeImg\r\n      );\r\n      const IdxOfCurrentObj = this.state.photos.indexOf(currentObj);\r\n      if (IdxOfCurrentObj !== 0) {\r\n        const nextObj = this.state.photos[IdxOfCurrentObj - 1];\r\n        this.setState({\r\n          largeImageURL: nextObj.largeImageURL\r\n        });\r\n      } else {\r\n        this.closeModal();\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { search, photos, largeImageURL, spinner, error } = this.state;\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar\r\n          onHandleChange={this.handleChange}\r\n          searchValue={search}\r\n          onHandleSubmit={this.handleSubmit}\r\n        />\r\n        {spinner && <Spinner />}\r\n        <ImageGallery\r\n          photos={photos}\r\n          onHandleLoadMore={this.loadMore}\r\n          onHandleOpenModal={this.openModal}\r\n        />\r\n        {largeImageURL !== '' && (\r\n          <Modal\r\n            largeImageURL={largeImageURL}\r\n            handleOverlayClick={this.handleOverlayClick}\r\n            onHandleKeyPress={this.handleKeyPress}\r\n          />\r\n        )}\r\n        {error && <Error />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}