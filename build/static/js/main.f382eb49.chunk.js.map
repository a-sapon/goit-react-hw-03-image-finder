{"version":3,"sources":["components/App.module.css","components/image_gallery/ImageGallery.module.css","components/button/Button.module.css","components/error/Error.module.css","components/searchbar/Searchbar.module.css","components/searchbar/Searchbar.js","components/image_gallery_item/ImageGalleryItem.js","components/button/Button.js","components/image_gallery/ImageGallery.js","components/modal/Modal.js","components/spinner/Spinner.js","components/error/Error.js","components/App.js","index.js","components/image_gallery_item/ImageGalleryItem.module.css","components/modal/Modal.module.css"],"names":["module","exports","Searchbar","onHandleSubmit","onHandleChange","searchValue","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","e","name","value","ImageGalleryItem","onHandleOpenModal","webformatURL","largeImageURL","onClick","src","data-picture","alt","ImageGalleryItemImage","Button","onHandleLoadMore","ImageGallery","photos","map","item","key","id","length","Modal","handleOverlayClick","Overlay","Spinner","color","height","width","timeout","Error","errorContainer","axios","require","API_KEY","App","state","search","page","spinner","error","getPhotos","a","get","response","setState","data","hits","console","log","handleChange","target","handleSubmit","preventDefault","prev","setTimeout","loadMore","window","scrollTo","top","document","documentElement","scrollHeight","behavior","openModal","dataset","picture","onkeydown","handleKeyPress","closeModal","currentTarget","code","currentLargeImg","currentObj","find","IdxOfCurrentObj","indexOf","nextObj","this","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f382eb49.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1mglT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2hkCW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1bhWA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorContainer\":\"Error_errorContainer__29lye\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2SGAK\",\"SearchForm\":\"Searchbar_SearchForm__22aNO\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1xZug\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3G7TW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2KFPA\"};","import React from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onHandleSubmit, onHandleChange, searchValue }) => (\r\n  <header className={styles.Searchbar}>\r\n    <form className={styles.SearchForm} onSubmit={onHandleSubmit}>\r\n      <button type='submit' className={styles.SearchFormButton}>\r\n        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        className={styles.SearchFormInput}\r\n        type='text'\r\n        autoComplete='off'\r\n        autoFocus\r\n        placeholder='Search images and photos'\r\n        onChange={e => onHandleChange(e)}\r\n        name='search'\r\n        value={searchValue}\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({\r\n  onHandleOpenModal,\r\n  webformatURL,\r\n  largeImageURL\r\n}) => (\r\n  <li onClick={onHandleOpenModal} className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      data-picture={largeImageURL}\r\n      alt=''\r\n      className={styles.ImageGalleryItemImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onHandleLoadMore }) => (\r\n  <button onClick={onHandleLoadMore} type='button' className={styles.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../image_gallery_item/ImageGalleryItem';\r\nimport Button from '../button/Button';\r\n\r\nconst ImageGallery = ({ photos, onHandleLoadMore, onHandleOpenModal }) => (\r\n  <>\r\n    <ul className={styles.ImageGallery}>\r\n      {photos.map(item => (\r\n        <ImageGalleryItem\r\n          key={item.id}\r\n          webformatURL={item.webformatURL}\r\n          largeImageURL={item.largeImageURL}\r\n          onHandleOpenModal={onHandleOpenModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n    {photos.length !== 0 && <Button onHandleLoadMore={onHandleLoadMore} />}\r\n  </>\r\n);\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nconst Modal = ({ largeImageURL, handleOverlayClick }) => (\r\n  <div onClick={e => handleOverlayClick(e)} className={styles.Overlay}>\r\n    <div className={styles.Modal}>\r\n      <img src={largeImageURL} alt='' />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Modal;","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Spinner = () => (\r\n  <>\r\n    <Loader\r\n      type='Plane'\r\n      color='#3f51b5'\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  </>\r\n);\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport styles from './Error.module.css';\r\n\r\nconst Error = () => (\r\n  <div className={styles.errorContainer}>\r\n    <p>\r\n      SorryüôÅ We don't have anything matching your request. Please check your\r\n      spelling.\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default Error;","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from './searchbar/Searchbar';\nimport ImageGallery from './image_gallery/ImageGallery';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Modal from './modal/Modal';\nimport Spinner from './spinner/Spinner';\nimport Error from './error/Error';\n\nconst axios = require('axios');\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '15153122-0963d39018d686d61465e9702';\n\nclass App extends Component {\n  state = {\n    search: '',\n    page: 1,\n    photos: [],\n    largeImageURL: '',\n    spinner: true,\n    error: false\n  };\n\n  getPhotos = async () => {\n    try {\n      const { search, page } = this.state;\n      const response = await axios.get(\n        `${BASE_URL}?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n      );\n      this.setState({\n        spinner: false\n      });\n      return response.data.hits;\n    } catch (error) {\n      console.log()(error);\n    }\n  };\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n      page: 1\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    const response = await this.getPhotos();\n    if (response.length !== 0) {\n      this.setState(prev => {\n        return {\n          photos: [...response],\n          page: prev.page + 1\n        };\n      });\n    } else {\n      this.setState(() => {\n        return {\n          error: true\n        };\n      });\n      setTimeout(() => {\n        this.setState({\n          error: false\n        })\n      }, 3000)\n    }\n  };\n\n  loadMore = async () => {\n    const response = await this.getPhotos();\n    this.setState(prev => {\n      return {\n        photos: [...prev.photos, ...response],\n        page: prev.page + 1\n      };\n    });\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth'\n    });\n  };\n\n  openModal = e => {\n    this.setState({\n      largeImageURL: e.target.dataset.picture\n    });\n    window.onkeydown = this.handleKeyPress;\n  };\n\n  closeModal = () => {\n    this.setState({\n      largeImageURL: ''\n    });\n  };\n\n  handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      this.closeModal();\n    }\n  };\n\n  handleKeyPress = e => {\n    if (e.code === 'Escape') {\n      this.closeModal();\n    }\n    if (e.code === 'ArrowRight') {\n      const currentLargeImg = this.state.largeImageURL;\n      const currentObj = this.state.photos.find(\n        item => item.largeImageURL === currentLargeImg\n      );\n      const IdxOfCurrentObj = this.state.photos.indexOf(currentObj);\n      if (IdxOfCurrentObj < this.state.photos.length - 1) {\n        const nextObj = this.state.photos[IdxOfCurrentObj + 1];\n        this.setState({\n          largeImageURL: nextObj.largeImageURL\n        });\n      } else {\n        this.closeModal();\n      }\n    }\n    if (e.code === 'ArrowLeft') {\n      const currentLargeImg = this.state.largeImageURL;\n      const currentObj = this.state.photos.find(\n        item => item.largeImageURL === currentLargeImg\n      );\n      const IdxOfCurrentObj = this.state.photos.indexOf(currentObj);\n      if (IdxOfCurrentObj !== 0) {\n        const nextObj = this.state.photos[IdxOfCurrentObj - 1];\n        this.setState({\n          largeImageURL: nextObj.largeImageURL\n        });\n      } else {\n        this.closeModal();\n      }\n    }\n  };\n\n  render() {\n    const { search, photos, largeImageURL, spinner, error } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar\n          onHandleChange={this.handleChange}\n          searchValue={search}\n          onHandleSubmit={this.handleSubmit}\n        />\n        {spinner && <Spinner />}\n        <ImageGallery\n          photos={photos}\n          onHandleLoadMore={this.loadMore}\n          onHandleOpenModal={this.openModal}\n        />\n        {largeImageURL !== '' && (\n          <Modal\n            largeImageURL={largeImageURL}\n            handleOverlayClick={this.handleOverlayClick}\n          />\n        )}\n        {error && <Error />}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Dlhd\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__29jvR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__V8yor\",\"Modal\":\"Modal_Modal__3gr2c\"};"],"sourceRoot":""}